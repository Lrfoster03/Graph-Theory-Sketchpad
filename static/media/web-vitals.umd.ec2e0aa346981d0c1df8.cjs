!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).webVitals={})}(this,function(e){"use strict";let t=-1;const n=e=>{addEventListener("pageshow",n=>{n.persisted&&(t=n.timeStamp,e(n))},!0)},i=(e,t,n,i)=>{let r,s;return o=>{t.value>=0&&(o||i)&&(s=t.value-(r??0),(s||void 0===r)&&(r=t.value,t.delta=s,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},r=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},s=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},o=()=>{const e=s();return e?.activationStart??0},a=(e,n=-1)=>{const i=s();let r="navigate";return t>=0?r="back-forward-cache":i&&(document.prerendering||o()>0?r="prerender":document.wasDiscarded?r="restore":i.type&&(r=i.type.replace(/_/g,"-"))),{name:e,value:n,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},d=new WeakMap;function l(e,t){return d.get(e)||d.set(e,new t),d.get(e)}class c{t;i=0;o=[];h(e){if(e.hadRecentInput)return;const t=this.o[0],n=this.o.at(-1);this.i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}const h=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const i=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return i.observe({type:e,buffered:!0,...n}),i}}catch{}},u=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let m=-1;const p=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,f=e=>{"hidden"===document.visibilityState&&m>-1&&(m="visibilitychange"===e.type?e.timeStamp:0,g())},v=()=>{addEventListener("visibilitychange",f,!0),addEventListener("prerenderingchange",f,!0)},g=()=>{removeEventListener("visibilitychange",f,!0),removeEventListener("prerenderingchange",f,!0)},T=()=>{if(m<0){const e=o(),t=document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;m=t??p(),v(),n(()=>{setTimeout(()=>{m=p(),v()})})}return{get firstHiddenTime(){return m}}},y=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},b=[1800,3e3],C=(e,t={})=>{y(()=>{const s=T();let d,l=a("FCP");const c=h("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(c.disconnect(),t.startTime<s.firstHiddenTime&&(l.value=Math.max(t.startTime-o(),0),l.entries.push(t),d(!0)))});c&&(d=i(e,l,b,t.reportAllChanges),n(n=>{l=a("FCP"),d=i(e,l,b,t.reportAllChanges),r(()=>{l.value=performance.now()-n.timeStamp,d(!0)})}))})},P=[.1,.25];let L=0,E=1/0,S=0;const w=e=>{for(const t of e)t.interactionId&&(E=Math.min(E,t.interactionId),S=Math.max(S,t.interactionId),L=S?(S-E)/7+1:0)};let A;const I=()=>A?L:performance.interactionCount??0;let M=0;class F{u=[];l=new Map;m;p;v(){M=I(),this.u.length=0,this.l.clear()}T(){const e=Math.min(this.u.length-1,Math.floor((I()-M)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&"first-input"!==e.entryType)return;const t=this.u.at(-1);let n=this.l.get(e.interactionId);if(n||this.u.length<10||e.duration>t.P){if(n?e.duration>n.P?(n.entries=[e],n.P=e.duration):e.duration===n.P&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],P:e.duration},this.l.set(n.id,n),this.u.push(n)),this.u.sort((e,t)=>t.P-e.P),this.u.length>10){const e=this.u.splice(10);for(const t of e)this.l.delete(t.id)}this.p?.(n)}}}const k=e=>{const t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=u(e),document.addEventListener("visibilitychange",e,{once:!0}),t(()=>{e(),document.removeEventListener("visibilitychange",e)}))},x=[200,500];class B{m;h(e){this.m?.(e)}}const N=[2500,4e3],R=[800,1800],q=e=>{document.prerendering?y(()=>q(e)):"complete"!==document.readyState?addEventListener("load",()=>q(e),!0):setTimeout(e)};e.CLSThresholds=P,e.FCPThresholds=b,e.INPThresholds=x,e.LCPThresholds=N,e.TTFBThresholds=R,e.onCLS=(e,t={})=>{C(u(()=>{let s,o=a("CLS",0);const d=l(t,c),u=e=>{for(const t of e)d.h(t);d.i>o.value&&(o.value=d.i,o.entries=d.o,s())},m=h("layout-shift",u);m&&(s=i(e,o,P,t.reportAllChanges),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(u(m.takeRecords()),s(!0))}),n(()=>{d.i=0,o=a("CLS",0),s=i(e,o,P,t.reportAllChanges),r(()=>s())}),setTimeout(s))}))},e.onFCP=C,e.onINP=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&y(()=>{"interactionCount"in performance||A||(A=h("event",w,{type:"event",buffered:!0,durationThreshold:0}));let r,s=a("INP");const o=l(t,F),d=e=>{k(()=>{for(const n of e)o.h(n);const t=o.T();t&&t.P!==s.value&&(s.value=t.P,s.entries=t.entries,r())})},c=h("event",d,{durationThreshold:t.durationThreshold??40});r=i(e,s,x,t.reportAllChanges),c&&(c.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(d(c.takeRecords()),r(!0))}),n(()=>{o.v(),s=a("INP"),r=i(e,s,x,t.reportAllChanges)}))})},e.onLCP=(e,t={})=>{y(()=>{const s=T();let d,c=a("LCP");const m=l(t,B),p=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)m.h(t),t.startTime<s.firstHiddenTime&&(c.value=Math.max(t.startTime-o(),0),c.entries=[t],d())},f=h("largest-contentful-paint",p);if(f){d=i(e,c,N,t.reportAllChanges);const s=u(()=>{p(f.takeRecords()),f.disconnect(),d(!0)});for(const e of["keydown","click","visibilitychange"])addEventListener(e,()=>k(s),{capture:!0,once:!0});n(n=>{c=a("LCP"),d=i(e,c,N,t.reportAllChanges),r(()=>{c.value=performance.now()-n.timeStamp,d(!0)})})}})},e.onTTFB=(e,t={})=>{let r=a("TTFB"),d=i(e,r,R,t.reportAllChanges);q(()=>{const l=s();l&&(r.value=Math.max(l.responseStart-o(),0),r.entries=[l],d(!0),n(()=>{r=a("TTFB",0),d=i(e,r,R,t.reportAllChanges),d(!0)}))})}});